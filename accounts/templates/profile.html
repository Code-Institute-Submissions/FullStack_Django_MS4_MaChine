{% extends 'base.html' %} 

{% load bootstrap_tags %}

{% block page_title %}{{ user }}'s Profile Page{% endblock %} 

{% block page_heading %}{{ user }}'s Profile{% endblock %}

{% block content %}
<hr>
<!-- <h3 class="justify text-center"> Here is {{ user }}'s details: </h3> -->
<!-- <p>{{ profile.email }} </p> -->

{% if user.is_superuser %}
    <p class="justify text-center mb-3">Hello, admin.</p>
{% else %}
    <p class="justify text-center mb-3">Hello there {{ user }}.</p>
{% endif %}

<div class="card-box text-center">

            {% if user.profile.image %}

            <img src="{{ user.profile.image.url }}" class="rounded-circle avatar-xl img-thumbnail img-fluid" alt="profile-image">

            {% else %}
            <img src="https://bootdey.com/img/Content/avatar/avatar7.png" class="rounded-circle avatar-xl img-thumbnail" alt="profile-image">
            
            {% endif %}

            <h4 class="mb-0">@{{ user }}</h4>
            <p class="text-muted"></p>
            
            <!-- {% if user.is_superuser %}
            <button type="button" class="btn btn-danger btn-xs waves-effect mb-2 waves-light">Delete</button>
            {% else %}
                
            {% endif %} -->

                {% if user.is_authenticated and request.user.id %}
                    
                    

                        <button type="button" class="btn btn-danger btn-xs waves-effect mb-2 waves-light" data-toggle="modal" data-target="#myModal">Delete </button>
                    
                    

                        <!-- Modal -->
                        <div id="myModal" class="modal fade" role="dialog">
                            <div class="modal-dialog">

                                <!-- Modal content-->
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                        <h4 class="modal-title">Are you sure you want to delete your account?</h4>
                                    </div>
                                    <div class="modal-body">
                                        <p>You might want to reconsider?</p>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                        <a href="{% url 'delete_user' user.id %}" class="btn btn-danger" role="button" >Delete User</a>
                                    </div>
                                </div>

                            </div>
                        </div>

                        {% elif user.is_authenticated and user.is_superuser %}

            
                        <button type="button" class="btn btn-danger btn-xs waves-effect mb-2 waves-light" data-toggle="modal" data-target="#myModal">Delete</button>
                    

                        <!-- Modal -->
                        <div id="myModal" class="modal fade" role="dialog">
                            <div class="modal-dialog">

                                <!-- Modal content-->
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                        <h4 class="modal-title">Are you sure you want to delete your account?</h4>
                                    </div>
                                    <div class="modal-body">
                                        <p>You might want to reconsider?</p>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                        <a href="{% url 'delete_user' user.id %}" class="btn btn-danger" role="button" >Delete Profile</a>
                                    </div>
                                </div>

                            </div>
                        </div>
                
            
                        {% endif %}

            <a href="{% url 'edit_profile' %}" class="btn btn-success btn-xs waves-effect mb-2 waves-light " role="button">Update Profile</a>
            


            <!-- <div class="rounded-circle" style="background-image: url('{{ MEDIA_URL }}{{ profile.image }}')"></div> -->

            {% if user.profile.bio %}
            <div class="text-left mt-3">
                <h4 class="font-13 text-uppercase">About Me :</h4>
                <p class="text-muted font-13 mb-3">
                    {{ user.profile.bio  }}
                </p>
            {% else %}

            <div class="text-left mt-3">
                <h4 class="font-13 text-uppercase">About Me :</h4>
                <p class="text-muted font-13 mb-3">
                    Hi I'm Johnathn Deo,has been the industry's standard dummy text ever since the
                    1500s, when an unknown printer took a galley of type.
                </p>
                <!-- <p class="text-muted mb-2 font-13"><strong>Full Name :</strong> <span class="ml-2">I AM A ROBOT</span></p> -->

            {% endif %}


                <p class="text-muted mb-2 font-13"><strong>Email :</strong> <span class="ml-2 ">{{ profile.email }}</span></p>

                <p class="text-muted mb-1 font-13"><strong>Location :</strong> <span class="ml-2">{{ user.profile.location  }}</span></p>
            </div>


            <hr>


            <ul class="social-list list-inline mt-4 mb-0">
                <li class="list-inline-item">
                    <a href="https://stackoverflow.com/" class="social-list-item border-purple text-purple" target="_blank"><i class="fab fa-stack-overflow"></i></a>
                </li>
                <li class="list-inline-item">
                    <a href="https://www.google.com/" class="social-list-item border-danger text-danger" target="_blank"><i class="fab fa-google"></i></a>
                </li>
                <li class="list-inline-item">
                    <a href="https://www.linkedin.com/" class="social-list-item border-info text-info" target="_blank"><i class="fab fa-linkedin-in"></i></a>
                </li>
                <li class="list-inline-item">
                    <a href="https://github.com/" class="social-list-item border-secondary text-secondary" target="_blank"><i class="fab fa-github"></i></a>
                </li>
            </ul>

            
        </div> <!-- end card-box -->

        <!-- <div class="mt-2 mb-2"> -->

        <!-- <div>  
            <a href="{% url 'edit_profile' %}" class="btn btn-success btn-block" role="button"><span class="glyphicon glyphicon-ok-sign" aria-hidden="true"></span>Update Profile</a></div>
        </div> -->




                        
{% endblock %}